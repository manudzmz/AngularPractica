<form #postRef="ngForm" (ngSubmit)="submitPost(postRef)" novalidate>
    <div>
        <input
            type="text"
            placeholder="Título"
            class="u-full-width"
            name="title"
            ngModel
            #titleRef="ngModel"
            required>
        <div *ngIf="titleRef.touched && titleRef.invalid" class="mensaje-error">
            <div *ngIf="titleRef.errors.required">
                Debes poner un título a tu historia.
            </div>
        </div>
    </div>
    <div>
        <textarea
            placeholder="Introduce tu historia"
            class="u-full-width georgia-font"
            autogrow
            name="intro"
            ngModel
            #introRef="ngModel"
            required></textarea>
        <div *ngIf="introRef.touched && introRef.invalid" class="mensaje-error">
            <div *ngIf="introRef.errors.required">
                Es obligatorio hacer una introducción de tu historia.
            </div>
        </div>
    </div>
    <div>
        <textarea
            placeholder="Cuenta tu historia"
            class="u-full-width georgia-font"
            autogrow
            name="body"
            ngModel
            #bodyRef="ngModel"
            required></textarea>
        <div *ngIf="bodyRef.touched && bodyRef.invalid" class="mensaje-error">
            <div *ngIf="bodyRef.errors.required">
                Debes contar tu historia.
            </div>
        </div>
    </div>
    <div>
        <div>
            <label (click)="setScheduling(false)">
                <span class="radio-input" [class.active]="!publicationDateScheduled"></span>
                No programar
            </label>
        </div>
        <div>
            <label (click)="setScheduling(true)">
                <span class="radio-input" [class.active]="publicationDateScheduled"></span>
                Publicar en:
            </label>
        </div>
        <div>
            <input
                type="datetime-local"
                name="publicationDate"
                [min]="nowDatetimeLocal"
                [ngModel]="nowDatetimeLocal">
        </div>
    </div>
    <button type="submit" class="button-primary u-pull-right"
            [disabled]="postRef.invalid">Publicar</button>
</form>
